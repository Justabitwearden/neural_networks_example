<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Office Decision Tool</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .input-group {
            margin-bottom: 15px;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
        }
        .input-group input[type="checkbox"] {
            margin-right: 10px;
        }
        .slider-value {
            display: inline-block;
            margin-left: 10px;
        }
        .neuron-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .neuron-box {
            padding: 10px;
            border: 1px solid #ccc;
            text-align: center;
            flex: 1;
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            background-color: #f0f0f0;
            border: 1px solid #ccc;
        }
        .neuron-text {
            width: 100%;
            margin-top: 10px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Should I Go to the Office?</h1>
        <h2>Inputs</h2>
        <div class="input-group">
            <label for="chanceOfRain">Chance of Rain:</label>
            <input type="range" id="chanceOfRain" name="chanceOfRain" min="0" max="1" step="0.01" value="0.5" oninput="updateValue(this)">
            <span class="slider-value" id="chanceOfRainValue">0.5</span>
        </div>
        
        <div class="input-group">
            <label for="temperature">Temperature (Celsius):</label>
            <input type="range" id="temperature" name="temperature" min="-10" max="40" step="1" value="20" oninput="updateValue(this)">
            <span class="slider-value" id="temperatureValue">20</span>
        </div>
        
        <div class="input-group">
            <label for="windSpeed">Wind Speed (km/h):</label>
            <input type="range" id="windSpeed" name="windSpeed" min="0" max="100" step="1" value="5" oninput="updateValue(this)">
            <span class="slider-value" id="windSpeedValue">5</span>
        </div>
        
        <div class="input-group">
            <label for="bodyTemperature">Body Temperature (Celsius):</label>
            <input type="range" id="bodyTemperature" name="bodyTemperature" min="35" max="42" step="0.1" value="36.6" oninput="updateValue(this)">
            <span class="slider-value" id="bodyTemperatureValue">36.6</span>
        </div>
        
        <div class="input-group">
            <label for="coughRate">Cough Rate (per hour):</label>
            <input type="range" id="coughRate" name="coughRate" min="0" max="20" step="1" value="0" oninput="updateValue(this)">
            <span class="slider-value" id="coughRateValue">0</span>
        </div>

        <div class="input-group">
            <label>
                <input type="checkbox" id="bankHoliday" name="bankHoliday" onchange="calculateDecision()">
                Bank Holiday?
            </label>
        </div>

        <div class="input-group">
            <label for="dayOfWeek">Day of Week:</label>
            <select id="dayOfWeek" name="dayOfWeek" onchange="calculateDecision()">
                <option value="1">Monday</option>
                <option value="2">Tuesday</option>
                <option value="3">Wednesday</option>
                <option value="4">Thursday</option>
                <option value="5">Friday</option>
                <option value="6">Saturday</option>
                <option value="7">Sunday</option>
            </select>
        </div>

        <div class="input-group">
            <label>
                <input type="checkbox" id="tubeStrike" name="tubeStrike" onchange="calculateDecision()">
                Tube Strike?
            </label>
        </div>

        <div class="input-group">
            <label>
                <input type="checkbox" id="trainStrike" name="trainStrike" onchange="calculateDecision()">
                Train Strike?
            </label>
        </div>

        <div class="input-group">
            <label for="distanceFromOffice">Distance from Office (km):</label>
            <input type="range" id="distanceFromOffice" name="distanceFromOffice" min="0" max="50" step="1" value="1" oninput="updateValue(this)">
            <span class="slider-value" id="distanceFromOfficeValue">1</span>
        </div>

        <div class="input-group">
            <label for="numberOfMeetings">Number of Meetings Today:</label>
            <input type="range" id="numberOfMeetings" name="numberOfMeetings" min="0" max="10" step="1" value="5" oninput="updateValue(this)">
            <span class="slider-value" id="numberOfMeetingsValue">5</span>
        </div>

        <div class="input-group">
            <label for="internetStatus">Home Internet Status (out of 5):</label>
            <input type="range" id="internetStatus" name="internetStatus" min="0" max="5" step="1" value="3" oninput="updateValue(this)">
            <span class="slider-value" id="internetStatusValue">3</span>
        </div>

        <div class="neuron-group">
            <div><h2>Neuron Activations:</h2></div>
            <div class="neuron-box" id="neuron1Box">
                Neuron 1: <span id="neuron1">-21.9</span> <span id="neuron1Scaled"></span>
               <input type="text" id="neuron1Text" class="neuron-text" placeholder="Function...">
           </div>
           <div class="neuron-box" id="neuron2Box">
                Neuron 2: <span id="neuron2">-1.5</span> <span id="neuron2Scaled"></span>
                <input type="text" id="neuron2Text" class="neuron-text" placeholder="Function...">
           </div>
           <div class="neuron-box" id="neuron3Box">
               Neuron 3: <span id="neuron3">-4</span> <span id="neuron3Scaled"></span>
               <input type="text" id="neuron3Text" class="neuron-text" placeholder="Function...">
           </div>
           <div class="neuron-box" id="neuron4Box">
               Neuron 4: <span id="neuron4">-3</span> <span id="neuron4Scaled"></span>
               <input type="text" id="neuron4Text" class="neuron-text" placeholder="Function...">
            </div>
            <div class="neuron-box" id="neuron5Box">
                Neuron 5: <span id="neuron5">-2.9</span> <span id="neuron5Scaled"></span>
               <input type="text" id="neuron5Text" class="neuron-text" placeholder="Function...">
            </div>
        </div>


        <div class="result" id="result">
            <strong>Output: </strong>
            <span id="output">0</span>
            <strong>Decision: </strong>
            <span id="decision">Should I go to the office?</span>
        </div>
    </div>

    <script>
        function updateValue(slider) {
            document.getElementById(slider.id + 'Value').textContent = slider.value;
            calculateDecision();
        }

        function calculateDecision() {
            // Simulate the decision calculation based on the input values
            const chanceOfRain = parseFloat(document.getElementById('chanceOfRain').value);
            const temperature = parseFloat(document.getElementById('temperature').value);
            const windSpeed = parseFloat(document.getElementById('windSpeed').value);
            const bodyTemperature = parseFloat(document.getElementById('bodyTemperature').value);
            const coughRate = parseFloat(document.getElementById('coughRate').value);
            const bankHoliday = document.getElementById('bankHoliday').checked ? 1 : 0;
            const dayOfWeek = parseInt(document.getElementById('dayOfWeek').value);
            const tubeStrike = document.getElementById('tubeStrike').checked ? 1 : 0;
            const trainStrike = document.getElementById('trainStrike').checked ? 1 : 0;
            const distanceFromOffice = parseFloat(document.getElementById('distanceFromOffice').value);
            const numberOfMeetings = parseFloat(document.getElementById('numberOfMeetings').value);
            const internetStatus = parseFloat(document.getElementById('internetStatus').value);

            // Simulate neuron activations
            const neuronActivations = [
                chanceOfRain * 10 - temperature + windSpeed * 0.7 + tubeStrike + trainStrike + distanceFromOffice - 10,
                10 * bankHoliday + dayOfWeek - 5,
                bodyTemperature + 0.5 * coughRate - 37.5,
                numberOfMeetings - 2 * internetStatus - 2,
                2 * tubeStrike + 2 * trainStrike + 0.1 * distanceFromOffice - 3
            ];

            // Update the neuron activation values
            for (let i = 1; i <= 5; i++) {
                const activation = neuronActivations[i-1].toFixed(1);
                const scaledActivation = Math.max(0, neuronActivations[i-1]).toFixed(1);
                document.getElementById(`neuron${i}`).textContent = activation;
                if (scaledActivation > 0) {
                    document.getElementById(`neuron${i}Scaled`).textContent = "ACTIVE";
                } else {
                    document.getElementById(`neuron${i}Scaled`).textContent = "(Inactive)";
                }

                const neuronBox = document.getElementById(`neuron${i}Box`);
                neuronBox.style.backgroundColor = getColorForActivation(activation);
            }

            // Determine the decision based on the scaled neuron values
            const output = -Math.max(0, neuronActivations[0]) - 20 * Math.max(0, neuronActivations[1]) - 5 * Math.max(0, neuronActivations[2]) + 2 * Math.max(0, neuronActivations[3]) - 20 * Math.max(0, neuronActivations[4])
            let decision = "No";
            if (output >= 1) {
                decision = "Yes";
            }
            document.getElementById('result').style.backgroundColor = getColorForActivation(output)
            document.getElementById('output').textContent = output.toFixed(2);
            document.getElementById('decision').textContent = decision;
        }
        
         function getColorForActivation(value) {
            const num = parseFloat(value);
            if (num < 0) {
                return `rgb(255, ${255 + Math.round(num * 10)}, ${255 + Math.round(num * 10)})`;
            } else if (num > 0) {
                return `rgb(${255 - Math.round(num * 10)}, 255, ${255 - Math.round(num * 10)})`;
            } else {
                return 'rgb(255, 245, 245)';
            }
        }

        // Initialize the decision on page load
        calculateDecision();
    </script>
</body>
</html>
